<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Chatbase with Vercel Auth</title>
  <style>
    html, body { margin:0; padding:0; height:100%; width:100%; overflow:hidden; }
    iframe { width:100%; height:100%; border:none; }
  </style>
</head>
<body>
  <script>
    async function loadChatbase() {
      // ⚠️ 换成你在 Vercel 部署的 API 地址
      const res = await fetch("https://chatbase-vercel-demo.vercel.app/get-auth");
      const { userId, authToken } = await res.json();

      const botId = "06_63h9wgHu7IeP5wxk1m"; // 你的 Chatbase Bot ID
      const url = `https://www.chatbase.co/chatbot-iframe/${botId}?userId=${userId}&authToken=${authToken}`;

      const iframe = document.createElement("iframe");
      iframe.src = url;
      document.body.appendChild(iframe);
    }

    loadChatbase();
  </script>
</body>
</html>
